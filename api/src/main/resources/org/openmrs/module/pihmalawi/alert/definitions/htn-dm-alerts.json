[
  {
    "name": "routine-hba1c-dm-type-1",
    "categories": ["diabetes","screening-eligibility"],
    "conditions": [
      "has(chronic_care_diagnoses, diabetes_type_1)",
      "monthsBetween(today, last_hba1c_result_date) >= 3"
    ],
    "alert": "Routine HbA1C for DM type 1",
    "action": "Do routine HbA1C",
    "notes": "All patients with DM type 1 should have a HbA1C every 3 months"
  },
  {
    "name": "routine-hba1c-dm-type-2",
    "categories": ["diabetes","screening-eligibility"],
    "conditions": [
      "hasChronicCareDiagnosis(chronic_care_diagnoses, [diabetes, diabetes_type_2])",
      "hasNot(chronic_care_diagnoses, diabetes_type_1)",
      "monthsBetween(today, last_hba1c_result_date) >= 6"
    ],
    "alert": "Routine HBA1C for DM type 2",
    "action": "Do routine HbA1C",
    "notes": "All patients with DM type 2 should have a HbA1C every 6 months"
  },
  {
    "name": "routine-fingerstick-diabetes",
    "categories": ["diabetes","blood-glucose","screening-eligibility"],
    "conditions": [
      "hasChronicCareDiagnosis(chronic_care_diagnoses, [diabetes, diabetes_type_1, diabetes_type_2])",
      "missing(last_blood_sugar_result_date) || last_blood_sugar_result_date < today"
    ],
    "alert": "Routine glucose fingerstick",
    "action": "Perform glucose fingerstick",
    "notes": "All patients with Diabetes should have a RBS at each visit to the clinic"
  },
  {
    "name": "eligible-for-blood-glucose-screening-not-enrolled",
    "categories": ["diabetes","blood-glucose","screening-eligibility"],
    "conditions": [
      "missing(chronic_care_diagnoses) || (!missing(chronic_care_diagnoses) && !hasChronicCareDiagnosis(chronic_care_diagnoses, [diabetes, diabetes_type_1, diabetes_type_2]))",
      "missing(last_blood_sugar_result_date) || (!missing(last_blood_sugar_result_date) && yearsBetween(today, last_blood_sugar_result_date) >= 1)",
      "(age_years >= 30) || (age_years >= 18 && last_bmi > 25) || (!missing(chronic_care_diagnoses) && hasChronicCareDiagnosis(chronic_care_diagnoses, [hypertension])) || (family_history_diabetes == true)"
    ],
    "alert": "Routine glucose fingerstick",
    "action": "Perform glucose fingerstick",
    "notes": "(Not active diabetes patient) AND (No blood sugar result in the last year) AND (age > 30 years OR adults with BMI > 25 OR diagnosed with hypertension OR parent/sibling has diabetes)",
    "enabled": true
  },
  {
    "name": "routine-creatinine",
    "categories": ["diabetes", "appointment-report"],
    "conditions": [
      "hasChronicCareDiagnosis(chronic_care_diagnoses, [diabetes, diabetes_type_1, diabetes_type_2, hypertension])",
      "yearsBetween(today, last_creatinine_result_date) >= 1",
      "missing(last_creatinine_result) || last_creatinine_result < 1.5"
    ],
    "alert": "Due for routine creatinine",
    "action": "Perform routine creatinine",
    "notes": "All patients with diabetes or hypertension should have a creatinine test each year, and every year if the result is <1.5, should be recurring if not entered into EMR"
  },
  {
    "name": "high-creatinine",
    "categories": ["diabetes", "appointment-report"],
    "conditions": [
      "hasChronicCareDiagnosis(chronic_care_diagnoses, [diabetes, diabetes_type_1, diabetes_type_2, hypertension])",
      "monthsBetween(today, last_creatinine_result_date) >= 6",
      "last_creatinine_result >= 1.5"
    ],
    "alert": "High creatinine",
    "action": "Alert clinician",
    "notes": "All patients with diabetes or hypertension with a creatinine of >/=1.5, should have a creatinine test every 6 months, should be recurring if not captured in EMR"
  }
]
